<div class="landing-container">
  <div *ngFor="let section of pageData" [style.width]="section.width" [ngClass]="'section-position-' + section.position">
    <!-- Main Section -->
    <ng-container *ngIf="section.type === 'hero'">
      <section [ngClass]="section.styles.section">
        <div class="container">
          <h1 [ngClass]="section.styles.title">{{ section.title }}</h1>
          <p [ngClass]="section.styles.tagline">{{ section.tagline }}</p>
          <div [ngClass]="section.styles.summary">
            <p [innerHTML]="section.summary.text"></p>
            <ul>
              <li *ngFor="let point of section.summary.points" [innerHTML]="point"></li>
            </ul>
            <p [innerHTML]="section.summary.goal"></p>
          </div>
        </div>
      </section>
    </ng-container>

    <!-- CTA Section -->
    <ng-container *ngIf="section.type === 'cta'">
      <section [ngClass]="section.styles.section">
        <div *ngFor="let card of section.cards" [ngClass]="section.styles.card">
          <h3>{{ card.title }}</h3>
          <p>{{ card.text }}</p>
          <a [routerLink]="card.button.link" [ngClass]="section.styles.button">{{ card.button.text }}</a>
        </div>
      </section>
    </ng-container>

    <!-- Data Indicators Section -->
    <ng-container *ngIf="section.type === 'data-indicators'">
      <section [ngClass]="section.styles.section">
        <div class="container">
          <h2 [ngClass]="section.styles.title">{{ section.title }}</h2>
          <div [ngClass]="section.styles.grid">
            <app-indicator-card
              *ngFor="let indicator of section.indicators; let i = index"
              [value]="indicator.value"
              [label]="indicator.label"
              [icon]="indicator.icon"
              [style.--animation-delay.s]="i * 0.1"
            ></app-indicator-card>
          </div>
        </div>
      </section>
    </ng-container>

    <!-- Partner Logos Section -->
    <ng-container *ngIf="section.type === 'country-view'">
      <app-country-view [showVariations]="section.showVariations" [legends]="section.legends" [selections]="section.selections"></app-country-view>
    </ng-container>

    <ng-container *ngIf="section.type === 'global-view'">
      <div class="map-container">
        <div class="map-wrapper" [@fade]="isGlobalMapVisible ? 'visible' : 'hidden'">
          <app-global-map-2></app-global-map-2>
        </div>
        <div class="map-wrapper" [@fade]="!isGlobalMapVisible ? 'visible' : 'hidden'">
          <app-catalysing-network-1 [showDetails]="section.showDetails" [isPartnerShowable]="section.isPartnerShowable"></app-catalysing-network-1>
        </div>
      </div>
    </ng-container>

    <!-- Partner Logos Section -->
    <ng-container *ngIf="section.type === 'partner-logos'">
      <app-partner-logos [partners]="section.partners" [styles]="section.styles" [title]="section.title" [showFilters]="section.showFilters"></app-partner-logos>
    </ng-container>

    <!-- Carousel Section -->
    <ng-container *ngIf="section.type === 'carousel'">
      <app-carousel [slides]="section.slides" [styles]="section.styles" [title]="section.title"></app-carousel>
    </ng-container>
  </div>
</div>