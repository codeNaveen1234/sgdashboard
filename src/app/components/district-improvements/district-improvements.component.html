<div class="breadcrumb">
  @if(isCommunityFlow){
    <a [routerLink]="['/community-led-improvements']" class="mr-1">Community Led Initiatives</a> / 
    <a [routerLink]="['/community-view',stateName,stateCode]" class="mx-1">{{stateName}}</a> / <span class="ml-1">{{ district }}</span>
  }@else{
    <a [routerLink]="['/dashboard']" class="mr-1">Dashboard</a> / <a [routerLink]="['/state-view',stateName,stateCode]" class="mx-1">{{stateName}}</a> / <span class="ml-1">{{ district }}</span>
  }
</div>
<div class="landing-container">
  <div *ngFor="let section of pageData" [style.width]="section.width" [ngClass]="'section-position-' + section.position">
    <!-- dashboard main -->
    <ng-container *ngIf="section.type === 'dashboard-main'">
      <section [ngClass]="section.styles.section">
        <div class="container">
          <h3 class="">{{ section.header }}</h3>
          <h4 class="">{{ section.subHeader }}</h4>
          <p class="">{{ section.description }}</p>
        </div>
      </section>
    </ng-container>

    <!-- dashboard metrics -->
    <ng-container *ngIf="section.type === 'dashboard-metrics'">
      <section [ngClass]="section.styles.section" class="metrics-container">
        <div class="dashboard-container">
          <h3 class="">{{ section.header }}</h3>
          <h4 class="">{{ section.subHeader }}</h4>
          <div class="dashboard-indicator">
            <div *ngFor="let item of section.indicators">
              <h4>{{item.value}}</h4>
              <p>{{item.label}}</p>
            </div>
          </div>
        </div>
      </section>
    </ng-container>

    <!-- country view -->
    <ng-container *ngIf="section.type === 'programs-list'" class="program-list">
      <app-programs-report-list [headerText]="pageConfig.type === 'communityDetails' ? 'Community led Initiatives' : 'District led Programs'" [CommunityButton]="enableCommunityButton" [programs]="programsList" [pageConfig]="pageConfig"></app-programs-report-list>
    </ng-container>
    <!-- Data Indicators Section -->
    <ng-container *ngIf="section.type === 'data-indicators'">
      <section [ngClass]="section.styles.section">
        <div class="container">
          @if(section.title){
            <h2 [ngClass]="section.styles.title">{{ section.title }}</h2>
          }
          <div [ngClass]="section.styles.grid">
            <app-indicator-card
              *ngFor="let indicator of section.indicators; let i = index"
              [value]="indicator.value"
              [label]="indicator.label"
              [icon]="indicator.icon"
              [style.--animation-delay.s]="i * 0.1"
            ></app-indicator-card>
          </div>
        </div>
      </section>
    </ng-container>

    <ng-container *ngIf="section.type === 'line-chart'">
      <app-line-chart [allData]="section.data"></app-line-chart>
    </ng-container>

    <ng-container *ngIf="section.type === 'pie-chart'">
      <app-pie-chart [pieData]="section.data"></app-pie-chart>
    </ng-container>
  </div>
</div>
